(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{11:function(e,t,a){e.exports=a.p+"static/media/4.1c3401ac.jpg"},14:function(e,t,a){e.exports=a(28)},18:function(e,t,a){},19:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},20:function(e,t,a){},22:function(e,t,a){},28:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(3),r=a.n(i),s=(a(18),a(19),a(20),a(4)),c=a.n(s),l=a(8),u=a(9),m=a(10),d=a(13),h=a(12),v=(a(22),a(1)),p=a.n(v),g=(a(23),a(11)),f=a.n(g),E=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={lat:void 0,lon:void 0,city:void 0,tempC:void 0,img:void 0,sunrise:void 0,sunset:void 0,err:void 0,date:void 0},n}return Object(m.a)(a,[{key:"getPosition",value:function(){return new Promise((function(e,t){navigator.geolocation.getCurrentPosition((function(t){console.log(t.coords),e(t)}),t)}))}},{key:"getWeather",value:function(){var e=Object(l.a)(c.a.mark((function e(t,a){var n,o,i,r=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(Object({NODE_ENV:"production",PUBLIC_URL:"/weatherByLocation",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_WEATHER_API_KEY),e.next=3,fetch("//api.openweathermap.org/data/2.5/weather?lat=".concat(t,"&lon=").concat(a,"&appid=998c901d34ec248477b5630b4fb3f7b9&units=metric"));case 3:n=e.sent,o=p()(),i=o.format("dddd, MMMM Do YYYY"),n.json().then((function(e){r.setState({lat:t,lon:a,city:e.name,tempC:Math.round(e.main.temp),img:e.weather[0].icon,date:i,sunrise:p.a.unix(e.sys.sunrise).format("hh:mm a"),sunset:p.a.unix(e.sys.sunset).format("hh:mm a")}),console.log("i have set the city to ",e.name),console.log(e)}));case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this;this.getPosition().then((function(t){console.log("i have the position"),e.getWeather(t.coords.latitude,t.coords.longitude)})).catch((function(e){console.log(e.message)})),console.log(this.state),this.timerID=setInterval((function(){return e.getWeather(e.state.lat,e.state.lon)}),6e5)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"render",value:function(){return this.state.city?o.a.createElement("div",{className:"UserCard",style:{backgroundImage:"url("+f.a+")",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"}},o.a.createElement("div",{className:"RowUser"},o.a.createElement("div",{className:"UserCardTop"},o.a.createElement("h1",null,this.state.date),o.a.createElement("div",null,o.a.createElement("img",{alt:"weather_icon",src:"http://openweathermap.org/img/w/".concat(this.state.img,".png")})),o.a.createElement("div",{className:"data"},this.state.city),o.a.createElement("div",{className:"data"},"Temperature: ",this.state.tempC,"\xb0C"),o.a.createElement("div",{className:"data"},"Sunrise: ",this.state.sunrise),o.a.createElement("div",{className:"data"},"Sunset: ",this.state.sunset)))):(console.log(this.state.city),o.a.createElement("div",null,"Loading"))}}]),a}(n.Component);var w=function(){return o.a.createElement("div",{className:"wrapper"},o.a.createElement("div",{className:"App"},o.a.createElement(E,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(25).config(),r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[14,1,2]]]);
//# sourceMappingURL=main.e954c2a7.chunk.js.map